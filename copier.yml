_preserve_symlinks: True
_skip_if_exists:
  - .env
  - .release-please-manifest.json
  - "src/{{ project_slug | replace('-', '_') }}/__init__.py"
_subdirectory: vibetuner-template
_templates_suffix: .j2

company_name:
  type: str
  help: Your company name
  placeholder: Company Name, S.L.
  default: "Acme Corp"

author_name:
  type: str
  help: Your full name
  placeholder: FirstName LastName
  default: "Developer"

author_email:
  type: str
  help: Your email address
  placeholder: hello@example.com
  default: "dev@example.com"

project_name:
  type: str
  help: What is the name of your project?
  default: "{{ _folder_name }}"

project_slug:
  type: str
  help: What is the slug (code friendly) of your project?
  default: "{{ _folder_name }}"
  validator: >-
    {% if not (project_slug | regex_search('^[a-z][a-z0-9\-]*[a-z0-9]$')) %}
    project_slug must start with a letter, followed one or more letters, digits or dashes all lowercase ending with a letter or digit.
    {% endif %}

project_description:
  type: str
  help: What is the description of your project?
  default: A project that does something useful.

fqdn:
  type: str
  help: What's the fqdn of your website? (leaving empty disables all deployment and caddy stuff)
  placeholder: subdomain.example.com
  default: ""

python_version:
  type: str
  help: Select your Python version
  default: "3.14"
  choices:
    - "3.11"
    - "3.12"
    - "3.13"
    - "3.14"

default_language:
  type: str
  help: Default language for your project (2-letter ISO 639-1 code)
  default: "en"

supported_languages:
  type: yaml
  help: List of 2-letter lang codes of additional supported languages
  multiline: true
  default: []

enable_watchtower:
  type: bool
  help: Do you want to enable watchtower (containers self-reload on update)?
  default: false
  when: "{{ fqdn }}"

_tasks:
  - command: [uv, sync]
    when: "{{ _copier_operation == 'copy' }}"
  - command: [uvx, --from, just-bin, just, git-init, "{{ project_slug }}"]
    when: "{{ _copier_operation == 'copy' }}"
  - command: [uv, run, prek, install]
    when: "{{ _copier_operation == 'copy' }}"
